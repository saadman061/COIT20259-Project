<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition template="layout.xhtml"
                xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:fn="http://java.sun.com/jsp/jstl/functions">

  <ui:define name="title">Search for a Product</ui:define>

  <ui:define name="heading">
    <h2 style="background-color:#4a607a; color:#fff; padding:6px;">Search for a product</h2>
  </ui:define>

  <ui:define name="content">
    <h:form>
      <h:outputLabel for="searchModel" value="Model:" />
      <h:inputText id="searchModel" value="#{productBean.searchModel}" />
      <br /><br />
      <h:commandButton value="Search" action="#{productBean.searchProducts}" />
      <h:commandButton value="Reset" action="#{productBean.resetSearch}" immediate="true" />
    </h:form>

    <br />

    <h:dataTable value="#{productBean.searchResults}" var="prod" border="1" cellpadding="4" rendered="#{not empty productBean.searchResults}">
      <h:column><f:facet name="header"><b>Brand</b></f:facet>#{prod.brand}</h:column>
      <h:column><f:facet name="header"><b>Model</b></f:facet>#{prod.model}</h:column>
      <h:column><f:facet name="header"><b>Display Size</b></f:facet>#{prod.displaySize}</h:column>
      <h:column><f:facet name="header"><b>Weight(gram)</b></f:facet>#{prod.weight}</h:column>
      <h:column><f:facet name="header"><b>Operating System</b></f:facet>#{prod.operatingSystem}</h:column>
      <h:column><f:facet name="header"><b>Camera</b></f:facet>#{prod.camera}</h:column>
      <h:column><f:facet name="header"><b>Wi-Fi</b></f:facet>#{prod.wifi}</h:column>
      <h:column><f:facet name="header"><b>Price</b></f:facet>#{prod.price}</h:column>
      <h:column><f:facet name="header"><b>Description</b></f:facet>#{prod.description}</h:column>
      <h:column><f:facet name="header"><b>Stock Number</b></f:facet>#{prod.stockNumber}</h:column>
      <h:column><f:facet name="header"><b>Network Interface</b></f:facet>#{prod.networkInterface}</h:column>
      <h:column><f:facet name="header"><b>Hard Drive</b></f:facet>#{prod.hardDrive}</h:column>
      <h:column><f:facet name="header"><b>Ports</b></f:facet>#{prod.ports}</h:column>
    </h:dataTable>

    <h:outputText rendered="#{not empty productBean.searchResults}" value="Total products: #{fn:length(productBean.searchResults)}" />

    <hr />
    <h:link value="Create a Product" outcome="createLaptop.xhtml" />
    |
    <h:link value="Main Page" outcome="dashboard.xhtml" />
  </ui:define>

</ui:composition>
